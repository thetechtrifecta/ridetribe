generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL")
  directUrl = env("POSTGRES_URL_NON_POOLING")
}

model User {
  id            Int         @id @default(autoincrement())
  clerkUserId   String      @unique
  email         String
  firstName     String
  lastName      String
  phone         String
  rides         Ride[]
  kids          Kid[]
}

model Ride {
  id              Int        @id @default(autoincrement())
  creator         User       @relation(fields: [creatorId], references: [id])
  creatorId       Int
  title           String?
  description     String?
  pickupAddress   String
  dropoffAddress  String
  dropoffTime     DateTime
  wouldDrive      Boolean
  seatsOffered    Int
  wantRide        Boolean
  seatsNeeded     Int
  kids            Kid[]
}

model Kid {
  id              Int        @id @default(autoincrement())
  creator         User       @relation(fields: [creatorId], references: [id])
  creatorId       Int
  ride            Ride?       @relation(fields: [rideId], references: [id])
  rideId          Int?
  firstName       String
  lastName        String
  age             Int
  phone           String?
}

